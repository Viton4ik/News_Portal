
<!--  наследуемся от шаблона default.html, который мы создавали для flatpages -->
{% extends 'news/default.html' %}

{% load custom_filters %}

{% block user_name %}
'{{ user }}'
{% endblock user_name %}

{% block title1 %}
news
{% endblock title1 %}

<!--topic-->
{% block topic %}
<h1 class="fw-bolder mb-1">{{ content.topic|censor }}</h1>
{% endblock topic %}

<!--data-->
{% block date %}
{{ content.createTime.date }}
{{ content.createTime.time }}
{% endblock date %}

<!--author-->
{% block author %}
{{ content.author }}
{% endblock author %}

<!--contentType-->
{% block type %}
{{ content.contentType.title}}
{% endblock type %}

<!--Post category-->
{% block categories %}
    {% for category in categories %}
           {{ category }}.
    {% endfor %}
{% endblock categories %}

<!--content-->
{% block content %}
<p></p>
<p>{{ content.content|censor }}</p>
<hr>
{% endblock content %}

<!--comments-->
{% block comment %}
<div class="fw-bold">Comments:</div>
    {% for comment in comments %}
          <p><em> - {{ comment.title }}</em></p>
    {% endfor %}

{% endblock comment %}

<!--commentUser-->
{% block commentUser %}
{{ commentUser }}
{% endblock commentUser %}

<!--delete post-->
{% block delete %}
    {# check if the user is an author or admin #}
    {% if user_is_author or user.is_superuser %}
        {# Теперь будем проверять не request.user.is_authenticated, а конкретные права #}
        {% if perms.news %} {# it can be more detailed - {% if perms.news.add/change/delete_post %} #}
            <p>&nbsp;</p>
            <a href="./{{ content.pk }}/delete/"><button class="mt-3 btn-primary" type="button"> Delete Post</button></a>
            <a href="./{{ content.pk }}/edit/"><button class="mt-3 btn-primary" type="button"> Edit Post</button></a>
        {% endif %}
    {% endif %}
{% endblock delete %}

<!--edit_time post-->
{% block edit_time %}
    {{ content.editTime }}
{% endblock edit_time %}